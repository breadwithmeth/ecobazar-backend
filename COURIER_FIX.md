# –¢–µ—Å—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –∫—É—Ä—å–µ—Ä–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –î–æ–±–∞–≤–ª–µ–Ω –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç
- ‚úÖ `GET /api/courier/:id/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—É—Ä—å–µ—Ä–∞ –ø–æ ID –¥–ª—è –∞–¥–º–∏–Ω–æ–≤

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–∞—Ä—à—Ä—É—Ç—ã
- ‚úÖ `GET /api/courier/list` –≤–º–µ—Å—Ç–æ `GET /api/courier/` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∫—É—Ä—å–µ—Ä–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

### 1. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫—É—Ä—å–µ—Ä–æ–≤ (–∞–¥–º–∏–Ω)
```bash
curl -X GET "http://localhost:4000/api/courier/list?page=1&limit=10" \
  -H "Authorization: Bearer ADMIN_TOKEN"
```

### 2. –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫—É—Ä—å–µ—Ä–∞ –ø–æ ID (–∞–¥–º–∏–Ω)
```bash
curl -X GET http://localhost:4000/api/courier/1/stats \
  -H "Authorization: Bearer ADMIN_TOKEN"
```

### 3. –ù–∞–∑–Ω–∞—á–∏—Ç—å –∫—É—Ä—å–µ—Ä–∞ –Ω–∞ –∑–∞–∫–∞–∑ (–∞–¥–º–∏–Ω)
```bash
curl -X POST http://localhost:4000/api/courier/assign \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer ADMIN_TOKEN" \
  -d '{"courierId": 1, "orderId": 15}'
```

### 4. –ü–æ–ª—É—á–∏—Ç—å –∑–∞–∫–∞–∑—ã –∫—É—Ä—å–µ—Ä–∞
```bash
curl -X GET "http://localhost:4000/api/courier/orders?page=1&limit=5" \
  -H "Authorization: Bearer COURIER_TOKEN"
```

### 5. –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ (–∫—É—Ä—å–µ—Ä)
```bash
curl -X PUT http://localhost:4000/api/courier/orders/1/status \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer COURIER_TOKEN" \
  -d '{"status": "DELIVERED"}'
```

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ –æ—Ç–≤–µ—Ç—ã

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫—É—Ä—å–µ—Ä–∞ (POST /api/courier/assign)
```json
{
  "success": true,
  "data": {
    "id": 15,
    "courierId": 1,
    "status": "DELIVERING",
    "courier": {
      "id": 1,
      "telegram_user_id": "987654321",
      "name": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",
      "phone": "+9876543210"
    },
    "totalAmount": 1299.97,
    "currentStatus": "DELIVERING"
  },
  "message": "–ö—É—Ä—å–µ—Ä —É—Å–ø–µ—à–Ω–æ –Ω–∞–∑–Ω–∞—á–µ–Ω –Ω–∞ –∑–∞–∫–∞–∑"
}
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—É—Ä—å–µ—Ä–∞ (GET /api/courier/:id/stats)
```json
{
  "success": true,
  "data": {
    "courier": {
      "id": 1,
      "telegram_user_id": "987654321",
      "name": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤",
      "phone": "+9876543210"
    },
    "stats": {
      "totalOrders": 30,
      "deliveredOrders": 25,
      "activeOrders": 3,
      "cancelledOrders": 2,
      "monthlyStats": {
        "delivered": 12,
        "earnings": 6000
      },
      "averageDeliveryTime": 45.5,
      "rating": 4.8,
      "efficiency": "–û—Ç–ª–∏—á–Ω–∞—è",
      "deliveryRate": 83.3,
      "lastDelivery": "2025-07-22T09:30:00.000Z"
    }
  }
}
```

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### 1. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (courierControllerV2.ts)
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getCourierStatsById` –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã TypeScript –æ—à–∏–±–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### 2. –†–æ—É—Ç—ã (courier.ts)
- –î–æ–±–∞–≤–ª–µ–Ω –º–∞—Ä—à—Ä—É—Ç `GET /api/courier/list` 
- –î–æ–±–∞–≤–ª–µ–Ω –º–∞—Ä—à—Ä—É—Ç `GET /api/courier/:id/stats`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### 3. API Documentation
- –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç–µ–ø–µ—Ä—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø—É—Ç–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫—É—Ä—å–µ—Ä–æ–≤ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç:
- ‚úÖ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫—É—Ä—å–µ—Ä–∞ –∑–∞–∫–∞–∑—É
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫—É—Ä—å–µ—Ä–æ–≤
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—É—Ä—å–µ—Ä–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∑–∞–∫–∞–∑–æ–≤

–°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏!
