# Обновление лимитов для администраторов

## Изменения от 22 июля 2025 г.

### Увеличен лимит запросов для администраторов

**До:** 100 запросов за 15 минут  
**После:** 200 запросов за 15 минут

### Измененные файлы:

1. **`ADMIN_API.md`** - обновлена документация:
   - Секция "Требования для всех админских эндпоинтов"
   - Секция "Ошибки и коды ответов" 
   - Секция "Производительность и ограничения"

2. **`src/middlewares/security.ts`** - основной middleware:
   ```typescript
   export const adminRateLimit = rateLimit({
     windowMs: 15 * 60 * 1000, // 15 минут
     max: 200, // БЫЛО: 100, СТАЛО: 200
     message: 'Слишком много административных действий'
   });
   ```

3. **`src/utils/security.ts`** - конфигурация безопасности:
   ```typescript
   private config: SecurityConfig = {
     rateLimits: {
       general: { windowMs: 15 * 60 * 1000, max: 1000 },
       admin: { windowMs: 15 * 60 * 1000, max: 200 } // БЫЛО: 100
     },
     // ...
   };
   ```

### Причины изменения:

- Увеличение продуктивности администраторов
- Больше возможностей для пакетных операций
- Лучшая поддержка сложных административных задач
- Сохранение защиты от злоупотреблений

### Влияние на эндпоинты:

Затронуты все админские эндпоинты, использующие `adminRateLimit`:
- `POST /api/products`
- `PUT /api/products/:id` 
- `DELETE /api/products/:id`
- `GET /api/orders/admin/all`
- `PUT /api/orders/:id/status`
- `GET /api/user/admin/all`
- И другие административные операции

### Безопасность:

Лимит остается достаточно низким для предотвращения атак, но достаточно высоким для комфортной работы администраторов.

---

**Изменения протестированы и готовы к развертыванию.**
